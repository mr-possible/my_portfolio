---
import BaseLayout from './BaseLayout.astro';
import BlogPostMeta from '../components/BlogPostMeta.astro';

interface Props {
  title: string;
  description: string;
  pubDate: Date;
  updatedDate?: Date;
  tags: string[];
  image?: string;
  imageAlt?: string;
}

const { title, description, pubDate, updatedDate, tags, image, imageAlt } =
  Astro.props;
---

<BaseLayout title={title} description={description}>
  <article>
    <header class="mb-8">
      <h1 class="text-3xl font-bold mb-3">{title}</h1>
      <BlogPostMeta pubDate={pubDate} tags={tags} />
      {
        updatedDate && (
          <p class="text-xs text-[var(--text-secondary)] mt-2">
            Updated:{' '}
            {updatedDate.toLocaleDateString('en-US', {
              year: 'numeric',
              month: 'long',
              day: 'numeric',
            })}
          </p>
        )
      }
    </header>
    {
      image && (
        <img
          src={image}
          alt={imageAlt || ''}
          class="rounded-lg mb-8 w-full"
        />
      )
    }
    <div class="prose prose-slate dark:prose-invert max-w-none prose-headings:text-[var(--text-primary)] prose-a:text-[var(--accent)] prose-strong:text-[var(--text-primary)]">
      <slot />
    </div>
    <footer class="mt-12 pt-6 border-t border-[var(--border)]">
      <a
        href="/blog"
        class="text-[var(--accent)] hover:underline text-sm"
      >
        &larr; Back to blog
      </a>
    </footer>
  </article>
</BaseLayout>
